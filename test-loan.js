const { ethers } = require("hardhat"); async function main() { const loanChain = await ethers.getContractAt("LoanChainV2", "0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9"); const activeLoanIds = await loanChain.getActiveLoanRequests(); console.log("Active loan IDs:", activeLoanIds.map(id => id.toString())); if(activeLoanIds.length > 0) { const loan = await loanChain.getLoan(activeLoanIds[0]); console.log("Loan details:", { id: loan.id.toString(), borrower: loan.borrower, amount: ethers.formatEther(loan.amount), status: loan.status }); } } main().catch(console.error);
